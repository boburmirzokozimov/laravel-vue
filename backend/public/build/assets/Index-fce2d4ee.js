import{r as _,o as n,c,b as t,F as w,g as C,t as s,n as y,d as f,f as d,k as x,O as b,A as k,w as A,l as N,N as B,a as O}from"./app-1e5e4c30.js";import $ from"./Edit-5661305e.js";import{M as j}from"./Modal-35b84230.js";const E={class:"flex flex-col"},M={class:"sm:mx-0.5 lg:mx-0.5"},V={class:"py-2 inline-block mx-auto sm:px-6 lg:px-8"},D={class:"overflow-hidden"},F={class:"min-w-full"},L=t("thead",{class:"bg-gray-200 border-b"},[t("tr",null,[t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4 text-left",scope:"col"}," # "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4 text-left",scope:"col"}," Full Name "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4 text-left",scope:"col"}," Role "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4 text-left",scope:"col"}," Last Seen "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4 text-left",scope:"col"}," Phone "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4 text-left",scope:"col"}," Country "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4 text-left",scope:"col"}," Active "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4 text-left",scope:"col"}," Banned "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4 text-left",scope:"col"}," Action ")])],-1),S={class:"bg-white border-b transition duration-300 ease-in-out hover:bg-gray-100"},I=["textContent"],T=["textContent"],U=["textContent"],z=["textContent"],P=["textContent"],R=["textContent"],q={class:"text-sm text-gray-900 font-light py-4 whitespace-nowrap"},G=["textContent"],H={class:"text-sm text-gray-900 font-light py-4 whitespace-nowrap"},J=["textContent"],K={class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap"},Q=["onClick"],W=["onClick"],X={__name:"Table",props:{users:Array,countries:Array,roles:Array},setup(o){const i=o,p=k({}),a=_(!1),r=_(null),g=l=>{b.delete("/users/"+l),p.success("Successfully deleted")},v=l=>{r.value=l,a.value=!0},u=()=>{a.value=!1,r.value=null};return(l,tt)=>(n(),c("div",E,[t("div",M,[t("div",V,[t("div",D,[t("table",F,[L,t("tbody",null,[(n(!0),c(w,null,C(o.users,e=>{var h,m;return n(),c("tr",S,[t("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",textContent:s(e.id)},null,8,I),t("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",textContent:s(e.full_name)},null,8,T),t("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",textContent:s((h=e==null?void 0:e.role[0])==null?void 0:h.toUpperCase())},null,8,U),t("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",textContent:s(e.last_visited)},null,8,z),t("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",textContent:s(e.phone)},null,8,P),t("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",textContent:s(`${(m=e==null?void 0:e.country)==null?void 0:m.slice(0,20)}...`)},null,8,R),t("td",q,[t("span",{class:y([e.is_active?"bg-green-600":"bg-red-600","px-3 py-1 rounded-md text-white"]),textContent:s(e.is_active?"Active":"Inactive")},null,10,G)]),t("td",H,[t("span",{class:y([e.is_banned?"bg-green-600":"bg-red-600","px-3 py-1 mx-auto rounded-md text-white"]),textContent:s(e.is_banned?"Banned":"Not Banned")},null,10,J)]),t("td",K,[t("button",{class:"btn-edit mr-2",onClick:f(()=>v(e.id),["prevent"])}," Edit ",8,Q),e.id!==l.$page.props.auth.user.id?(n(),c("button",{key:0,class:"btn-danger",onClick:f(()=>g(e.id),["prevent"])}," Delete ",8,W)):d("",!0),a.value&&e.id===r.value?(n(),x(j,{key:1,onClose:u})):d("",!0),a.value&&e.id===r.value?(n(),x($,{key:2,countries:i.countries,user:e,onClose:u},null,8,["countries","user"])):d("",!0)])])}),256))])])])])])]))}},Y={class:"flex justify-between items-center"},Z=t("div",null,[t("h1",{class:"text-3xl text-center"}," Users ")],-1),ot={__name:"Index",props:{users:Object,countries:Object,roles:Object,can:Array},setup(o){const i=o;return(p,a)=>(n(),c("div",null,[t("div",Y,[Z,t("div",null,[o.can.create_user?(n(),x(B,{key:0,class:"btn-success",href:"/users/create"},{default:A(()=>[N(" Create ")]),_:1})):d("",!0)])]),O(X,{countries:i.countries,roles:o.roles,users:i.users.data},null,8,["countries","roles","users"])]))}};export{ot as default};
