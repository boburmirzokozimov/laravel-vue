import{r as x,o as s,c as n,b as t,F as u,i as m,t as a,d as v,e as w,g as C,k as h,f as y,O as b}from"./app-f2545b28.js";import{M as S}from"./Modal-49dfdf05.js";import k from"./InfoPopUp-41dd704f.js";/* empty css            */const B={class:"flex flex-col"},M={class:"sm:mx-0.5 lg:mx-0.5"},O={class:"py-2 inline-block mx-auto sm:px-6 lg:px-8 w-full"},D={class:"overflow-hidden"},E={class:"min-w-full"},j=t("thead",{class:"bg-gray-200 border-b"},[t("tr",null,[t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4",scope:"col"}," # "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4",scope:"col"}," Date "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4",scope:"col"}," Sum "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4",scope:"col"}," Type "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4",scope:"col"}," Status "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4",scope:"col"}," Action ")])],-1),F={class:"bg-white border-b transition duration-300 ease-in-out hover:bg-gray-100"},N=["textContent"],R=["textContent"],T=["textContent"],U=["textContent"],V={class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap text-left"},A=["onChange"],I=["selected","value","textContent"],L={class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap"},P=["onClick"],J={__name:"BalanceRequestTable",props:{balance_requests:Object,transaction_statuses:Object},setup(i){const g=i,l=x(!1),c=x(null),_=r=>{c.value=r,l.value=!0},d=()=>{l.value=!1,c.value=null},f=(r,p)=>{b.post(`/balanceRequests/${p}`,{status:r.target.value},{onSuccess:()=>{toaster.success("Статус изменён")},onError:e=>{toaster.error(e.message)},preserveScroll:!0})};return(r,p)=>(s(),n("div",B,[t("div",M,[t("div",O,[t("div",D,[t("table",E,[j,t("tbody",null,[(s(!0),n(u,null,m(i.balance_requests,e=>(s(),n("tr",F,[t("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",textContent:a(e.id)},null,8,N),t("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",textContent:a(e.created_at)},null,8,R),t("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",textContent:a(e.sum)},null,8,T),t("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",textContent:a(e.type)},null,8,U),t("td",V,[t("form",null,[t("select",{id:"category",class:"border border-gray-200 p-2 w-full rounded-2xl",name:"category",onChange:v(o=>f(o,e.id),["prevent"])},[(s(!0),n(u,null,m(g.transaction_statuses,o=>w((s(),n("option",{selected:o===e.status,value:o,textContent:a(o)},null,8,I)),[[C,o!=="SUCCESS"]])),256))],40,A)])]),t("td",L,[t("button",{class:"btn-edit",onClick:()=>_(e.id)},"Просмотр деталей ",8,P),l.value&&e.id===c.value?(s(),h(S,{key:0,onClose:d})):y("",!0),l.value&&e.id===c.value?(s(),h(k,{key:1,balance_request:e,onClose:d},null,8,["balance_request"])):y("",!0)])]))),256))])])])])])]))}};export{J as default};
