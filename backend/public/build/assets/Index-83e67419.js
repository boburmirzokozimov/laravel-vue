import{r as h,o as n,c,b as t,F as v,g as w,t as s,n as _,d as y,f as d,k as x,O as C,A as b,w as k,l as A,N,a as B}from"./app-d7b2edf0.js";import O from"./Edit-db751f57.js";import{M as $}from"./Modal-1853592f.js";/* empty css            */const j={class:"flex flex-col"},E={class:"sm:mx-0.5 lg:mx-0.5"},M={class:"py-2 inline-block mx-auto sm:px-6 lg:px-8"},V={class:"overflow-hidden"},D={class:"min-w-full"},F=t("thead",{class:"bg-gray-200 border-b"},[t("tr",null,[t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4 text-left",scope:"col"}," # "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4 text-left",scope:"col"}," Full Name "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4 text-left",scope:"col"}," Role "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4 text-left",scope:"col"}," Last Seen "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4 text-left",scope:"col"}," Phone "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4 text-left",scope:"col"}," Country "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4 text-left",scope:"col"}," Active "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4 text-left",scope:"col"}," Banned "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4 text-left",scope:"col"}," Action ")])],-1),L={class:"bg-white border-b transition duration-300 ease-in-out hover:bg-gray-100"},S=["textContent"],I=["textContent"],T=["textContent"],U=["textContent"],z=["textContent"],P=["textContent"],R={class:"text-sm text-gray-900 font-light py-4 whitespace-nowrap"},q=["textContent"],G={class:"text-sm text-gray-900 font-light py-4 whitespace-nowrap"},H=["textContent"],J={class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap"},K=["onClick"],Q=["onClick"],W={__name:"Table",props:{users:Array,countries:Array,roles:Array},setup(o){const i=o,p=b({}),a=h(!1),r=h(null),f=l=>{C.delete("/users/"+l),p.success("Successfully deleted")},g=l=>{r.value=l,a.value=!0},m=()=>{a.value=!1,r.value=null};return(l,Z)=>(n(),c("div",j,[t("div",E,[t("div",M,[t("div",V,[t("table",D,[F,t("tbody",null,[(n(!0),c(v,null,w(o.users,e=>{var u;return n(),c("tr",L,[t("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",textContent:s(e.id)},null,8,S),t("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",textContent:s(e.full_name)},null,8,I),t("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",textContent:s(e==null?void 0:e.role.name.toUpperCase())},null,8,T),t("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",textContent:s(e.last_visited)},null,8,U),t("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",textContent:s(e.phone)},null,8,z),t("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",textContent:s(`${(u=e==null?void 0:e.country)==null?void 0:u.slice(0,20)}...`)},null,8,P),t("td",R,[t("span",{class:_([e.is_active?"bg-green-600":"bg-red-600","px-3 py-1 rounded-md text-white"]),textContent:s(e.is_active?"Active":"Inactive")},null,10,q)]),t("td",G,[t("span",{class:_([e.is_banned?"bg-green-600":"bg-red-600","px-3 py-1 mx-auto rounded-md text-white"]),textContent:s(e.is_banned?"Banned":"Not Banned")},null,10,H)]),t("td",J,[t("button",{class:"btn-edit mr-2",onClick:y(()=>g(e.id),["prevent"])}," Edit ",8,K),e.id!==l.$page.props.auth.user.id?(n(),c("button",{key:0,class:"btn-danger",onClick:y(()=>f(e.id),["prevent"])}," Delete ",8,Q)):d("",!0),a.value&&e.id===r.value?(n(),x($,{key:1,onClose:m})):d("",!0),a.value&&e.id===r.value?(n(),x(O,{key:2,countries:i.countries,user:e,onClose:m},null,8,["countries","user"])):d("",!0)])])}),256))])])])])])]))}},X={class:"flex justify-between items-center"},Y=t("div",null,[t("h1",{class:"text-3xl text-center"}," Users ")],-1),ot={__name:"Index",props:{users:Object,countries:Object,roles:Object,can:Array},setup(o){const i=o;return(p,a)=>(n(),c("div",null,[t("div",X,[Y,t("div",null,[o.can.create_user?(n(),x(N,{key:0,class:"btn-success",href:"/users/create"},{default:k(()=>[A(" Create ")]),_:1})):d("",!0)])]),B(W,{countries:i.countries,roles:o.roles,users:i.users.data},null,8,["countries","roles","users"])]))}};export{ot as default};
