import{r as m,o as s,c as l,a as i,w as C,u as w,b as t,F as h,f as k,Z as v,t as n,q as b,h as u,k as y,O as S,A as I}from"./app-86f9ab7a.js";import{P as B}from"./Paginator-d6a629ce.js";import N from"./Filter-f7379c18.js";import O from"./InfoPopUp-83db6b2e.js";import{M as A}from"./Modal-cfa5bd2d.js";/* empty css            */import"./lodash-b11f2868.js";/* empty css                                                              */const E=t("title",null,"Balance Transactions",-1),T={class:"flex flex-col"},V={class:"sm:mx-0.5 lg:mx-0.5"},j={class:"py-2 inline-block mx-auto sm:px-6 lg:px-8 w-full"},q={class:"overflow-hidden"},D={class:"min-w-full"},F=t("thead",{class:"bg-gray-200 border-b"},[t("tr",null,[t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4",scope:"col"}," # "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4",scope:"col"}," Client "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4",scope:"col"}," Sum "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4",scope:"col"}," Type "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4",scope:"col"}," Status "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4",scope:"col"})])],-1),L={class:"bg-white border-b transition duration-300 ease-in-out hover:bg-gray-100"},M=["textContent"],P=["textContent"],$=["textContent"],G=["textContent"],U=["textContent"],W=["textContent"],z={class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap"},H=["onClick"],R=t("i",{class:"fa fa-eye text-white"},null,-1),Z=[R],J=["onClick"],K=t("i",{class:"fa fa-remove text-white"},null,-1),Q=[K],rt={__name:"Balance",props:{balance_transactions:Object,transaction_statuses:Object,filters:Object},setup(c){const p=I({}),a=m(!1),r=m(null),_=(o,x)=>{S.post(`/transactions/${x}/status`,{status:o},{onSuccess:()=>{p.success("Статус изменён")},onError:e=>{p.error(e.message)},preserveScroll:!0})},f=o=>o==="SUCCESS"?"bg-green-500":o==="WAITING"?"bg-yellow-500":"bg-red-500",g=o=>{r.value=o,a.value=!0},d=()=>{a.value=!1,r.value=null};return(o,x)=>(s(),l(h,null,[i(w(v),null,{default:C(()=>[E]),_:1}),i(N,{filters:c.filters},null,8,["filters"]),t("div",T,[t("div",V,[t("div",j,[t("div",q,[t("table",D,[F,t("tbody",null,[(s(!0),l(h,null,k(c.balance_transactions.data,e=>(s(),l("tr",L,[t("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",textContent:n(e.id)},null,8,M),t("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",textContent:n(e.client_name)},null,8,P),t("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",textContent:n(e.sum)},null,8,$),e.metal_or_crypto_type?(s(),l("td",{key:1,class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",textContent:n(e.metal_or_crypto_type)},null,8,U)):(s(),l("td",{key:0,class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",textContent:n(e.type)},null,8,G)),t("td",{class:b([f(e.status),"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap"])},[t("span",{class:"text-white px-2 py-1 rounded",textContent:n(e.status)},null,8,W)],2),t("td",z,[t("button",{class:"btn-edit mr-2",onClick:()=>g(e.id)},Z,8,H),e.status==="HOLD"||e.status==="WAITING"||e.status==="VERIFICATION"?(s(),l("button",{key:0,class:"btn-danger",onClick:X=>_("CANCELED",e.id)},Q,8,J)):u("",!0),a.value&&e.id===r.value?(s(),y(A,{key:1,style:{"background-color":"rgba(0, 0, 0, 0.15)"},onClose:d})):u("",!0),a.value&&e.id===r.value?(s(),y(O,{key:2,balance_request:e,onClose:d},null,8,["balance_request"])):u("",!0)])]))),256))])])])])])]),i(B,{links:c.balance_transactions.links},null,8,["links"])],64))}};export{rt as default};
