import{r as m,o,c as l,a as i,w as C,u as w,b as t,F as h,f as k,Z as v,t as n,q as b,h as u,k as y,O as S,A as E}from"./app-93756fd7.js";import{P as I}from"./Paginator-42659576.js";import N from"./Filter-e215aeb2.js";import A from"./InfoPopUp-f5f638c4.js";import{M as B}from"./Modal-2cc2044c.js";/* empty css            */import"./lodash-a2481bd0.js";/* empty css                                                              */const O=t("title",null,"Balance Transactions",-1),L={class:"flex flex-col"},T={class:"sm:mx-0.5 lg:mx-0.5"},D={class:"py-2 inline-block mx-auto sm:px-6 lg:px-8 w-full"},V={class:"overflow-hidden"},j={class:"min-w-full"},q=t("thead",{class:"bg-gray-200 border-b"},[t("tr",null,[t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4",scope:"col"}," # "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4",scope:"col"}," Client "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4",scope:"col"}," Sum "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4",scope:"col"}," Type "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4",scope:"col"}," Status "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4",scope:"col"})])],-1),F={class:"bg-white border-b transition duration-300 ease-in-out hover:bg-gray-100"},M=["textContent"],P=["textContent"],U=["textContent"],$=["textContent"],G=["textContent"],W=["textContent"],z={class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap"},H=["onClick"],R=t("i",{class:"fa fa-eye text-white"},null,-1),Z=[R],J=["onClick"],K=t("i",{class:"fa fa-remove text-white"},null,-1),Q=[K],rt={__name:"Balance",props:{balance_transactions:Object,transaction_statuses:Object,filters:Object},setup(c){const p=E({}),a=m(!1),r=m(null),_=(s,x)=>{S.post(`/transactions/${x}/status`,{status:s},{onSuccess:()=>{p.success("Статус изменён")},onError:e=>{p.error(e.message)},preserveScroll:!0})},f=s=>s==="SUCCESS"?"bg-green-500":s==="WAITING"?"bg-yellow-500":s==="CANCELED"?"bg-red-500":"bg-gray-500",g=s=>{r.value=s,a.value=!0},d=()=>{a.value=!1,r.value=null};return(s,x)=>(o(),l(h,null,[i(w(v),null,{default:C(()=>[O]),_:1}),i(N,{filters:c.filters},null,8,["filters"]),t("div",L,[t("div",T,[t("div",D,[t("div",V,[t("table",j,[q,t("tbody",null,[(o(!0),l(h,null,k(c.balance_transactions.data,e=>(o(),l("tr",F,[t("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",textContent:n(e.id)},null,8,M),t("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",textContent:n(e.client_name)},null,8,P),t("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",textContent:n(e.sum.toLocaleString("en-US"))},null,8,U),e.metal_or_crypto_type?(o(),l("td",{key:1,class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",textContent:n(e.metal_or_crypto_type)},null,8,G)):(o(),l("td",{key:0,class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",textContent:n(e.type)},null,8,$)),t("td",{class:b([f(e.status),"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap"])},[t("span",{class:"text-white px-2 py-1 rounded",textContent:n(e.status)},null,8,W)],2),t("td",z,[t("button",{class:"btn-edit mr-2",onClick:()=>g(e.id)},Z,8,H),e.status==="HOLD"||e.status==="WAITING"||e.status==="VERIFICATION"?(o(),l("button",{key:0,class:"btn-danger",onClick:X=>_("CANCELED",e.id)},Q,8,J)):u("",!0),a.value&&e.id===r.value?(o(),y(B,{key:1,style:{"background-color":"rgba(0, 0, 0, 0.15)"},onClose:d})):u("",!0),a.value&&e.id===r.value?(o(),y(A,{key:2,balance_request:e,onClose:d},null,8,["balance_request"])):u("",!0)])]))),256))])])])])])]),i(I,{links:c.balance_transactions.links},null,8,["links"])],64))}};export{rt as default};
