import{r as _,o as n,c as i,b as t,F as v,i as b,t as o,q as f,d as y,f as d,k as p,O as C,A as k,w as A,N as B,a as x}from"./app-e5c4304f.js";import N from"./Edit-711664ff.js";import{M as $}from"./Modal-9f67c683.js";import{P as O}from"./Paginator-39639571.js";import j from"./Filter-8a34b746.js";/* empty css            */import"./lodash-806d5c4b.js";const M={class:"flex flex-col"},E={class:"sm:mx-0.5 lg:mx-0.5"},F={class:"py-2 inline-block mx-auto sm:px-6 lg:px-8 w-full"},L={class:"overflow-hidden"},P={class:"min-w-full"},S=t("thead",{class:"bg-gray-200 border-b"},[t("tr",null,[t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4 text-left",scope:"col"}," # "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4 text-left",scope:"col"}," Full Name "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4 text-left",scope:"col"}," Role "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4 text-left",scope:"col"}," Last Seen "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4 text-left",scope:"col"}," Phone "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4 text-left",scope:"col"}," Country "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4 text-left",scope:"col"}," Active "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4 text-left",scope:"col"}," Banned "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4 text-left",scope:"col"}," Action ")])],-1),V={class:"bg-white border-b transition duration-300 ease-in-out hover:bg-gray-100"},D=["textContent"],I=["textContent"],U=["textContent"],q=["textContent"],z=["textContent"],R=["textContent"],T={class:"text-sm text-gray-900 font-light py-4 whitespace-nowrap"},G=["textContent"],H={class:"text-sm text-gray-900 font-light py-4 whitespace-nowrap"},J=["textContent"],K={class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap"},Q=["onClick"],W=t("i",{class:"fa fa-edit text-white"},null,-1),X=[W],Y=["onClick"],Z=t("i",{class:"fa fa-remove text-white"},null,-1),tt=[Z],et={__name:"Table",props:{users:Array,countries:Array,roles:Array},setup(l){const s=l,u=k({}),a=_(!1),r=_(null),g=c=>{C.delete("/users/"+c),u.success("Successfully deleted")},w=c=>{r.value=c,a.value=!0},m=()=>{a.value=!1,r.value=null};return(c,lt)=>(n(),i("div",M,[t("div",E,[t("div",F,[t("div",L,[t("table",P,[S,t("tbody",null,[(n(!0),i(v,null,b(l.users,e=>{var h;return n(),i("tr",V,[t("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",textContent:o(e.id)},null,8,D),t("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",textContent:o(e.full_name)},null,8,I),t("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",textContent:o(e==null?void 0:e.role.name.toUpperCase())},null,8,U),t("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",textContent:o(e.last_visited)},null,8,q),t("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",textContent:o(e.phone)},null,8,z),t("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",textContent:o(`${(h=e==null?void 0:e.country)==null?void 0:h.slice(0,20)}...`)},null,8,R),t("td",T,[t("span",{class:f([e.is_active?"bg-green-600":"bg-red-600","px-3 py-1 rounded-md text-white"]),textContent:o(e.is_active?"Active":"Inactive")},null,10,G)]),t("td",H,[t("span",{class:f([e.is_banned?"bg-green-600":"bg-red-600","px-3 py-1 mx-auto rounded-md text-white"]),textContent:o(e.is_banned?"Banned":"Not Banned")},null,10,J)]),t("td",K,[t("button",{class:"btn-edit mr-2",onClick:y(()=>w(e.id),["prevent"])},X,8,Q),e.id!==c.$page.props.auth.user.id?(n(),i("button",{key:0,class:"btn-danger",onClick:y(()=>g(e.id),["prevent"])},tt,8,Y)):d("",!0),a.value&&e.id===r.value?(n(),p($,{key:1,onClose:m})):d("",!0),a.value&&e.id===r.value?(n(),p(N,{key:2,countries:s.countries,user:e,onClose:m},null,8,["countries","user"])):d("",!0)])])}),256))])])])])])]))}},st={class:"flex justify-between items-center"},ot=t("div",null,[t("h1",{class:"text-3xl text-center"}," Users ")],-1),nt=t("i",{class:"fa-user-plus fa text-white"},null,-1),ut={__name:"Index",props:{users:Object,countries:Object,roles:Object,can:Array,filters:Object},setup(l){const s=l;return(u,a)=>(n(),i("div",null,[t("div",st,[ot,t("div",null,[l.can.create_user?(n(),p(B,{key:0,class:"btn-success",href:"/users/create"},{default:A(()=>[nt]),_:1})):d("",!0)])]),x(j,{countries:s.countries,filters:s.filters,roles:s.roles},null,8,["countries","filters","roles"]),x(et,{countries:s.countries,roles:l.roles,users:s.users.data},null,8,["countries","roles","users"]),x(O,{links:s.users.links},null,8,["links"])]))}};export{ut as default};
