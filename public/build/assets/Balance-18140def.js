import{r as _,o as s,c as l,a as u,w as v,u as k,b as t,F as d,f as y,Z as b,t as n,d as S,e as B,i as O,h as p,k as g,O as E,A as I}from"./app-7969a278.js";import{P as N}from"./Paginator-9a7f37d2.js";import A from"./Filter-ee4ac85d.js";import D from"./InfoPopUp-b7e999f6.js";import{M}from"./Modal-70bbfb0b.js";/* empty css            */import"./lodash-0dcc5b9e.js";const T=t("title",null,"Balance Transactions",-1),V={class:"flex flex-col"},j={class:"sm:mx-0.5 lg:mx-0.5"},F={class:"py-2 inline-block mx-auto sm:px-6 lg:px-8 w-full"},L={class:"overflow-hidden"},P={class:"min-w-full"},$=t("thead",{class:"bg-gray-200 border-b"},[t("tr",null,[t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4",scope:"col"}," # "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4",scope:"col"}," Client "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4",scope:"col"}," Sum "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4",scope:"col"}," Type "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4",scope:"col"}," Status "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4",scope:"col"})])],-1),q={class:"bg-white border-b transition duration-300 ease-in-out hover:bg-gray-100"},U=["textContent"],G=["textContent"],H=["textContent"],R=["textContent"],W={class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap"},Z=["onChange"],z=["selected","value","textContent"],J={class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap"},K=["onClick"],Q=t("i",{class:"fa fa-eye text-white"},null,-1),X=[Q],Y=["onClick"],tt=t("i",{class:"fa fa-remove text-white"},null,-1),et=[tt],it={__name:"Balance",props:{balance_transactions:Object,transaction_statuses:Object,filters:Object},setup(a){const C=a,x=I({}),c=_(!1),r=_(null),m=(i,f)=>{E.post(`/transactions/${f}/status`,{status:i},{onSuccess:()=>{x.success("Статус изменён")},onError:e=>{x.error(e.message)},preserveScroll:!0})},w=i=>{r.value=i,c.value=!0},h=()=>{c.value=!1,r.value=null};return(i,f)=>(s(),l(d,null,[u(k(b),null,{default:v(()=>[T]),_:1}),u(A,{filters:a.filters},null,8,["filters"]),t("div",V,[t("div",j,[t("div",F,[t("div",L,[t("table",P,[$,t("tbody",null,[(s(!0),l(d,null,y(a.balance_transactions.data,e=>(s(),l("tr",q,[t("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",textContent:n(e.id)},null,8,U),t("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",textContent:n(e.client_name)},null,8,G),t("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",textContent:n(e.sum)},null,8,H),t("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",textContent:n(e.type)},null,8,R),t("td",W,[t("form",null,[t("select",{id:"category",class:"text-center border border-gray-200 p-2 w-full rounded-2xl",name:"category",onChange:S(o=>m(o.target.value,e.id),["prevent"])},[(s(!0),l(d,null,y(C.transaction_statuses,o=>B((s(),l("option",{selected:o===e.status,value:o,class:"text-center",textContent:n(o)},null,8,z)),[[O,o!=="SUCCESS"]])),256))],40,Z)])]),t("td",J,[t("button",{class:"btn-edit mr-2",onClick:()=>w(e.id)},X,8,K),e.status==="HOLD"||e.status==="WAITING"||e.status==="VERIFICATION"?(s(),l("button",{key:0,class:"btn-danger",onClick:o=>m("CANCELED",e.id)},et,8,Y)):p("",!0),c.value&&e.id===r.value?(s(),g(M,{key:1,style:{"background-color":"rgba(0, 0, 0, 0.15)"},onClose:h})):p("",!0),c.value&&e.id===r.value?(s(),g(D,{key:2,balance_request:e,onClose:h},null,8,["balance_request"])):p("",!0)])]))),256))])])])])])]),u(N,{links:a.balance_transactions.links},null,8,["links"])],64))}};export{it as default};
