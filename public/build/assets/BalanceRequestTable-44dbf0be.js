import{r as m,o as s,c as o,b as t,F as y,f as _,t as a,d as w,e as C,i as k,h as l,k as f,O as S,A as b}from"./app-361ee81d.js";import{M as A}from"./Modal-5bf8b743.js";import B from"./InfoPopUp-7016ac07.js";/* empty css            *//* empty css                                                              */const D={class:"flex flex-col"},O={class:"sm:mx-0.5 lg:mx-0.5"},E={class:"py-2 inline-block mx-auto sm:px-6 lg:px-8 w-full"},I={class:"overflow-hidden"},N={class:"min-w-full"},L=t("thead",{class:"bg-gray-200 border-b"},[t("tr",null,[t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4",scope:"col"}," # "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4",scope:"col"}," Date "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4",scope:"col"}," Sum "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4",scope:"col"}," Type "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4",scope:"col"}," Status "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4",scope:"col"}," Action ")])],-1),M={key:0,class:"bg-white border-b transition duration-300 ease-in-out hover:bg-gray-100"},T=["textContent"],j=["textContent"],F=["textContent"],G=["textContent"],H={class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap"},U=["onChange"],V=["selected","value","textContent"],W={class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap"},$=["onClick"],P=t("i",{class:"fa fa-eye text-white"},null,-1),R=[P],z=["onClick"],J=t("i",{class:"fa fa-remove text-white"},null,-1),K=[J],tt={__name:"BalanceRequestTable",props:{balance_requests:Object,transaction_statuses:Object},setup(d){const g=d,c=m(!1),i=m(null),p=b({}),v=r=>{i.value=r,c.value=!0},u=()=>{c.value=!1,i.value=null},x=(r,h)=>{S.post(`/transactions/${h}/status`,{status:r},{onSuccess:()=>{p.success("Статус изменён")},onError:e=>{p.error(e.message)},preserveScroll:!0})};return(r,h)=>(s(),o("div",D,[t("div",O,[t("div",E,[t("div",I,[t("table",N,[L,(s(!0),o(y,null,_(d.balance_requests,e=>(s(),o("tbody",null,[e.invoice_file?l("",!0):(s(),o("tr",M,[t("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",textContent:a(e.id)},null,8,T),t("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",textContent:a(e.created_at)},null,8,j),t("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",textContent:a(e.sum)},null,8,F),t("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",textContent:a(e.type)},null,8,G),t("td",H,[t("form",null,[t("select",{id:"category",class:"border border-gray-200 p-2 w-full rounded-2xl",name:"category",onChange:w(n=>x(n.target.value,e.id),["prevent"])},[(s(!0),o(y,null,_(g.transaction_statuses,n=>C((s(),o("option",{selected:n===e.status,value:n,textContent:a(n)},null,8,V)),[[k,n!=="SUCCESS"]])),256))],40,U)])]),t("td",W,[e.status==="HOLD"||e.status==="WAITING"?(s(),o("button",{key:0,class:"btn-edit mr-2",onClick:()=>v(e.id)},R,8,$)):l("",!0),e.status==="HOLD"||e.status==="WAITING"?(s(),o("button",{key:1,class:"btn-danger",onClick:n=>x("CANCELED",e.id)},K,8,z)):l("",!0),c.value&&e.id===i.value?(s(),f(A,{key:2,onClose:u})):l("",!0),c.value&&e.id===i.value?(s(),f(B,{key:3,balance_request:e,onClose:u},null,8,["balance_request"])):l("",!0)])]))]))),256))])])])])]))}};export{tt as default};
