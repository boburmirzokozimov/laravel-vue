import{r as a,T as p,o as _,c as b,b as t,e as f,g,u as n,d as h,O as d}from"./app-2f008381.js";/* empty css            */const v={class:"mt-6"},y=["onSubmit"],x={class:"mb-6 flex"},w={class:"relative"},S=t("button",{class:"btn-edit !bg-blue-400",style:{"border-radius":"1rem 0 0 1rem"}},"Отправить файл ",-1),B=t("button",{class:"btn-edit !bg-blue-400",style:{"border-radius":"0 1rem  1rem 0"}}," Send ",-1),F={__name:"Create",props:{chat_room_id:null,client_id:null},setup(u){const s=u;let o=a(null);a(!1);const e=p({message:null,chat_room_id:s.chat_room_id,type:""}),c=i=>{o=i.target.files[0],e.type=o.type==="image/png"?"image":"pdf",d.post("/uploadFile",{message:o,chat_room_id:s.chat_room_id,type:e.type},{preserveScroll:!0}),o.value=""},m=()=>{d.post("/send/"+s.client_id,{message:e.message,chat_room_id:e.chat_room_id,client_id:s.client_id},{preserveScroll:!0}),e.message=""};return(i,r)=>(_(),b("div",v,[t("form",{class:"w-full mx-auto",method:"post",onSubmit:h(m,["prevent"])},[t("div",x,[t("div",w,[t("input",{id:"file",class:"absolute opacity-0 w-full h-full cursor-pointer",name:"file",type:"file",onInput:r[0]||(r[0]=l=>c(l))},null,32),S]),f(t("input",{id:"message","onUpdate:modelValue":r[1]||(r[1]=l=>n(e).message=l),class:"border border-gray-200 w-full focus:border-none active:border-none active:outline-0 focus:outline-0",name:"message",style:{"border-bottom-right-radius":"0","border-top-right-radius":"0"},type:"text"},null,512),[[g,n(e).message]]),B])],40,y)]))}};export{F as default};
