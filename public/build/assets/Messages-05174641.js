import _ from"./Create-73a593b2.js";import{n as m,o as e,c as o,F as u,i as p,a as h,b as r,q as l,f as i,t as g}from"./app-e60a6b7a.js";/* empty css            */const b={class:"bg-gray-200 rounded-xl p-6"},x=r("div",{class:"mt-6 mb-6"},[r("h2",{class:"mt-6 text-2xl font-semibold italic"}," Chat ")],-1),f={key:0},y=["src"],v={key:1},C=["href"],k=["textContent"],N={__name:"Messages",props:{chat_room:Object},setup(d){const s=d,a=Centrifugo.newSubscription(`finHelpRooms.${s.chat_room.id}`);a.subscribe(),a.on("publication",function(n){s.chat_room.messages.push(n.data.message)}),m(()=>{Centrifugo.removeSubscription(a)});const c=n=>n==="App\\Models\\User\\User";return(n,B)=>(e(),o("div",b,[x,(e(!0),o(u,null,p(s.chat_room.messages,t=>(e(),o("div",{class:l([c(t.messageble_type)?"justify-end":"justify-start","flex"])},[r("div",{class:l([c(t.messageble_type)?"text-right rounded-tl-3xl rounded-tr-xl mr-2 rounded-bl-3xl bg-blue-400":"text-left rounded-tr-3xl rounded-tl-xl ml-2 rounded-br-3xl bg-gray-400","mb-2 py-3 px-4 w-1/2 text-white"])},[t.type==="image"?(e(),o("div",f,[r("img",{src:`/storage/${t.message}`,alt:"image"},null,8,y)])):i("",!0),t.type==="doc"?(e(),o("div",v,[r("a",{href:`/storage/${t.message}`,class:"rounded-lg bg-gray-200 px-4 py-1",target:"_blank"}," Открыть Файл ",8,C)])):i("",!0),t.type?i("",!0):(e(),o("div",{key:2,textContent:g(t.message)},null,8,k))],2)],2))),256)),h(_,{chat_room_id:s.chat_room.id,client_id:s.chat_room.client_id},null,8,["chat_room_id","client_id"])]))}};export{N as default};
