import{o,c as n,a as c,w as h,u as _,b as t,F as r,i as d,Z as g,t as a,d as y,e as f,g as w,O as C,A as b}from"./app-f4cf12d7.js";import{P as v}from"./Paginator-e49d7e32.js";import S from"./Filter-7d202fe3.js";/* empty css            */import"./lodash-37b62ab0.js";const k=t("title",null,"Balance Transactions",-1),B={class:"flex flex-col"},O={class:"sm:mx-0.5 lg:mx-0.5"},j={class:"py-2 inline-block mx-auto sm:px-6 lg:px-8 w-full"},A={class:"overflow-hidden"},E={class:"min-w-full"},D=t("thead",{class:"bg-gray-200 border-b"},[t("tr",null,[t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4",scope:"col"}," # "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4",scope:"col"}," Client "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4",scope:"col"}," Sum "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4",scope:"col"}," Type "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4",scope:"col"}," Status "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4",scope:"col"}," Action ")])],-1),F={class:"bg-white border-b transition duration-300 ease-in-out hover:bg-gray-100"},N=["textContent"],P=["textContent"],T=["textContent"],V=["textContent"],$={class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap"},L=["onChange"],M=["selected","value","textContent"],U=t("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap"},null,-1),I={__name:"Balance",props:{balance_transactions:Object,transaction_statuses:Object,filters:Object},setup(l){const u=l,i=b({}),m=(p,x)=>{C.post(`/transactions/${x}/status`,{status:p},{onSuccess:()=>{i.success("Статус изменён")},onError:e=>{i.error(e.message)},preserveScroll:!0})};return(p,x)=>(o(),n(r,null,[c(_(g),null,{default:h(()=>[k]),_:1}),c(S,{filters:l.filters},null,8,["filters"]),t("div",B,[t("div",O,[t("div",j,[t("div",A,[t("table",E,[D,t("tbody",null,[(o(!0),n(r,null,d(l.balance_transactions.data,e=>(o(),n("tr",F,[t("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",textContent:a(e.id)},null,8,N),t("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",textContent:a(e.client.full_name)},null,8,P),t("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",textContent:a(e.sum)},null,8,T),t("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",textContent:a(e.type)},null,8,V),t("td",$,[t("form",null,[t("select",{id:"category",class:"text-center border border-gray-200 p-2 w-full rounded-2xl",name:"category",onChange:y(s=>m(s.target.value,e.id),["prevent"])},[(o(!0),n(r,null,d(u.transaction_statuses,s=>f((o(),n("option",{selected:s===e.status,value:s,class:"text-center",textContent:a(s)},null,8,M)),[[w,s!=="SUCCESS"]])),256))],40,L)])]),U]))),256))])])])])])]),c(v,{links:l.balance_transactions.links},null,8,["links"])],64))}};export{I as default};
