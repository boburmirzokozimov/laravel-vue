import{r as p,o as s,c as o,b as t,F as i,i as u,t as a,d as y,e as _,g as C,f as d,O as m,A as w}from"./app-f17e9a9f.js";/* empty css            */const b={class:"flex flex-col"},v={class:"sm:mx-0.5 lg:mx-0.5"},S={class:"py-2 inline-block mx-auto sm:px-6 lg:px-8 w-full"},k={class:"overflow-hidden"},E={class:"min-w-full"},B=t("thead",{class:"bg-gray-200 border-b"},[t("tr",null,[t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4 text-left",scope:"col"}," # "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4 text-left",scope:"col"}," Дата "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4 text-left",scope:"col"}," Сумма "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4 text-left",scope:"col"}," Номер карты "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4 text-left",scope:"col"}," Статус "),t("th",{class:"text-sm font-medium text-gray-900 px-6 py-4",scope:"col"}," Действие ")])],-1),D={key:0,class:"bg-white border-b transition duration-300 ease-in-out hover:bg-gray-100"},O=["textContent"],$=["textContent"],j=["textContent"],A=["textContent"],N={class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap text-left"},F=["onChange"],L=["selected","value","textContent"],U={class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap text-left"},V={class:"flex flex-col justify-around"},M=["onClick"],z={__name:"CreditCardDepositTable",props:{credit_card_transactions:Object,transaction_statuses:Object},setup(x){const h=x,c=w({});p(!1),p(null);const f=(l,r)=>{m.post(`/credit-cards/${l}/manage/${r}`,{_method:"patch"},{onSuccess:()=>{c.success("Процесс выполнен")},onError:e=>{c.error(e.message)},preserveScroll:!0})},g=(l,r)=>{m.post(`/transactions/${r}/status`,{status:l.target.value},{onSuccess:()=>{c.success("Статус изменён")},onError:e=>{c.error(e.message)},preserveScroll:!0})};return(l,r)=>(s(),o("div",b,[t("div",v,[t("div",S,[t("div",k,[t("table",E,[B,(s(!0),o(i,null,u(x.credit_card_transactions,e=>(s(),o("tbody",null,[e.status!=="SUCCESS"&&e.status!=="CANCELED"?(s(),o("tr",D,[t("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-left",textContent:a(e.id)},null,8,O),t("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap text-left",textContent:a(e.created_at)},null,8,$),t("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap text-left",textContent:a(e.sum)},null,8,j),t("td",{class:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap text-left",textContent:a(e.card_number)},null,8,A),t("td",N,[t("form",null,[t("select",{id:"category",class:"border border-gray-200 p-2 w-full rounded-2xl",name:"category",onChange:y(n=>g(n,e.id),["prevent"])},[(s(!0),o(i,null,u(h.transaction_statuses,n=>_((s(),o("option",{selected:n===e.status,value:n,textContent:a(n)},null,8,L)),[[C,n!=="SUCCESS"]])),256))],40,F)])]),t("td",U,[t("div",V,[l.$page.props.is_manager?(s(),o("button",{key:0,class:"mt-1 btn-success mx-auto w-1/2",type:"button",onClick:()=>f(e.credit_card_id,e.id)},"Подтвердить ",8,M)):d("",!0)])])])):d("",!0)]))),256))])])])])]))}};export{z as default};
